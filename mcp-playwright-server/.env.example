# MCP Playwright Test Runner Configuration
# Copy this file to .env and fill in your values

# ============================================
# MCP Server Configuration
# ============================================

# Directory for storing test artifacts (screenshots, videos, traces)
ARTIFACTS_DIR=/data/test-results

# Maximum number of concurrent test runs
MAX_CONCURRENT_RUNS=3

# Maximum duration for a single test run (milliseconds)
# Default: 300000 (5 minutes)
MAX_TEST_DURATION=300000

# Browser timeout for page operations (milliseconds)
# Default: 30000 (30 seconds)
BROWSER_TIMEOUT=30000

# Run browsers in headless mode (true/false)
HEADLESS=true

# Default browser to use (chromium, firefox, webkit)
DEFAULT_BROWSER=chromium

# ============================================
# Playwright Configuration
# ============================================

# Enable video recording (true/false)
ENABLE_VIDEO=true

# Screenshot capture mode (on, off, only-on-failure)
SCREENSHOT_MODE=on

# Enable trace recording (true/false)
ENABLE_TRACE=true

# Enable coverage collection (true/false)
ENABLE_COVERAGE=false

# Video quality (low, medium, high)
VIDEO_QUALITY=medium

# ============================================
# Test Execution Configuration
# ============================================

# Number of retries for failed tests
TEST_RETRIES=2

# Timeout for individual test cases (milliseconds)
TEST_TIMEOUT=30000

# Workers for parallel test execution
WORKERS=2

# Fail fast - stop on first failure (true/false)
FAIL_FAST=false

# ============================================
# n8n Integration (Optional)
# ============================================

# n8n basic authentication
N8N_USER=admin
N8N_PASSWORD=changeme

# n8n host configuration
N8N_HOST=localhost
N8N_PORT=5678

# Webhook URL for n8n callbacks
WEBHOOK_URL=http://localhost:5678/webhook/test-results

# ============================================
# GitHub Integration (Optional)
# ============================================

# GitHub personal access token for API access
GITHUB_TOKEN=ghp_your_token_here

# GitHub repository information
GITHUB_OWNER=your-username
GITHUB_REPO=your-repo-name

# Branch to test (default: main)
GITHUB_BRANCH=main

# ============================================
# Vercel Integration (Optional)
# ============================================

# Vercel API token
VERCEL_TOKEN=your_vercel_token

# Vercel project ID
VERCEL_PROJECT_ID=your_project_id

# Vercel team ID (optional)
VERCEL_TEAM_ID=your_team_id

# ============================================
# Claude API (for AI-powered debugging)
# ============================================

# Anthropic API key
ANTHROPIC_API_KEY=sk-ant-api03-your_key_here

# Claude model to use for analysis
CLAUDE_MODEL=claude-sonnet-4-20250514

# ============================================
# OpenProject Integration (Optional)
# ============================================

# OpenProject URL
OPENPROJECT_URL=http://your-openproject-instance

# OpenProject API key
OPENPROJECT_API_KEY=your_api_key

# ============================================
# Security & Performance
# ============================================

# API key for MCP server authentication (optional)
MCP_API_KEY=your_secure_api_key_here

# Rate limiting - max requests per minute
RATE_LIMIT_MAX=10
RATE_LIMIT_WINDOW_MS=60000

# Enable request logging (true/false)
ENABLE_LOGGING=true

# Log level (debug, info, warn, error)
LOG_LEVEL=info

# ============================================
# Storage Configuration
# ============================================

# Maximum artifact retention days
ARTIFACT_RETENTION_DAYS=30

# Maximum storage size (GB)
MAX_STORAGE_GB=50

# Automatically cleanup old artifacts (true/false)
AUTO_CLEANUP=true

# ============================================
# Network Configuration
# ============================================

# Proxy settings (if required)
HTTP_PROXY=
HTTPS_PROXY=
NO_PROXY=localhost,127.0.0.1

# Timeout for network requests (milliseconds)
NETWORK_TIMEOUT=30000

# ============================================
# Advanced Playwright Options
# ============================================

# User agent string (optional)
USER_AGENT=

# Viewport size (width x height)
VIEWPORT_WIDTH=1920
VIEWPORT_HEIGHT=1080

# Device emulation (optional)
# Options: iPhone 12, Pixel 5, iPad Pro, etc.
DEVICE_EMULATION=

# Timezone (optional)
TIMEZONE=America/New_York

# Locale (optional)
LOCALE=en-US

# Geolocation (latitude,longitude)
GEOLOCATION=

# ============================================
# Accessibility Testing
# ============================================

# Enable accessibility testing with axe-core (true/false)
ENABLE_ACCESSIBILITY=true

# Accessibility impact level to report (minor, moderate, serious, critical)
ACCESSIBILITY_MIN_IMPACT=moderate

# ============================================
# Performance Monitoring
# ============================================

# Enable performance metrics collection (true/false)
ENABLE_PERFORMANCE=true

# Performance budget thresholds (milliseconds)
PERF_FCP_THRESHOLD=1800
PERF_LCP_THRESHOLD=2500
PERF_TTI_THRESHOLD=3800
PERF_TBT_THRESHOLD=300
PERF_CLS_THRESHOLD=0.1

# ============================================
# Docker Configuration
# ============================================

# Docker host (if running tests in Docker)
DOCKER_HOST=

# Docker network
DOCKER_NETWORK=mcp-network
